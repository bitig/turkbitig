<!DOCTYPE html>
<html>
<head>
  <title>Canvas Text Editor</title>
  <style>
    body {
      font-family: Arial, sans-serif;
    }
    #canvas-container {
      border: 1px solid #ccc;
      padding: 10px;
    }
  </style>
</head>
<body>
  <div id="canvas-container">
    <canvas id="canvas" width="400" height="200"></canvas>
  </div>
  <div id="controls">
    <input id="text-input" type="text" placeholder="Enter text here...">
    <select id="font-select">
      <option value="Arial">Arial</option>
      <option value="Comic Sans MS">Comic Sans MS</option>
      <option value="Courier New">Courier New</option>
      <option value="Times New Roman">Times New Roman</option>
    </select>
    <input id="font-size-input" type="number" value="60" min="20" max="600">
    <input id="text-color-input" type="color" value="#000000">
    <input id="background-color-input" type="color" value="#FFFFFF">
  </div>

  <script>
    const canvas = document.getElementById('canvas');
    const ctx = canvas.getContext('2d');
    const textInput = document.getElementById('text-input');
    const fontSelect = document.getElementById('font-select');
    const fontSizeInput = document.getElementById('font-size-input');
    const textColorInput = document.getElementById('text-color-input');
    const backgroundColorInput = document.getElementById('background-color-input');

    let text = '';
    let font = 'Arial';
    let fontSize = 60;
    let textColor = '#000000';
    let backgroundColor = '#FFFFFF';

    function drawText() {
      ctx.clearRect(0, 0, canvas.width, canvas.height);
      ctx.font = `${fontSize}px ${font}`;
      ctx.fillStyle = textColor;
      ctx.textAlign = 'left';
      ctx.textBaseline = 'top';
      const padding = 10;
      ctx.fillStyle = backgroundColor;
      ctx.fillRect(0, 0, canvas.width, canvas.height);
      ctx.fillStyle = textColor;
      const lines = wrapText(text, canvas.width - padding * 2);
      let y = padding;
      for (const line of lines) {
        ctx.fillText(line, padding, y);
        y += fontSize * 1.2;
      }
    }

    function wrapText(text, maxWidth) {
      const words = text.split(' ');
      const lines = [];
      let currentLine = '';
      for (const word of words) {
        if (ctx.measureText(`${currentLine} ${word}`).width > maxWidth) {
          lines.push(currentLine);
          currentLine = word;
        } else {
          currentLine += ` ${word}`;
        }
      }
      lines.push(currentLine);
      return lines;
    }

    textInput.addEventListener('input', () => {
      text = textInput.value;
      canvas.height = calculateCanvasHeight(text);
      drawText();
    });

    fontSelect.addEventListener('change', () => {
      font = fontSelect.value;
      canvas.height = calculateCanvasHeight(text);
      drawText();
    });

    fontSizeInput.addEventListener('input', () => {
      fontSize = parseInt(fontSizeInput.value);
      canvas.height = calculateCanvasHeight(text);
      drawText();
    });

    textColorInput.addEventListener('input', () => {
      textColor = textColorInput.value;
      drawText();
    });

    backgroundColorInput.addEventListener('input', () => {
      backgroundColor = backgroundColorInput.value;
      drawText();
    });

    function calculateCanvasHeight(text) {
      const lines = wrapText(text, canvas.width - 20);
      return lines.length * fontSize * 1 + 20;
    }

    drawText();
  </script>
</body>
</html>

