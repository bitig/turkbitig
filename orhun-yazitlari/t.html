<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Word Highlighter</title>
<style>
  .highlight { background-color: yellow; } /* Highlight Style */
  .mu { direction: rtl; } /* RTL Support for.mu */
  .mt,.mu { cursor: pointer; } /* Change cursor on hover for both */
</style>
</head>
<body>

<div id="1">
<div class="d">1B1</div>
<div class="mu"> : 蔼案案 : 挨 : 阿 : 安 : 碍 : 岸唉阿 : 凹 : 埃 : 安按 : 凹凹 : 凹:</div>
<div class="mt">B陌LGE : TONYUKUK : BeN : Z眉M : TaBGa : 陌LiE : KIL谋ND谋M : TRK : BODuN : TaBGaKA : KR眉R : eRT陌:</div>
</div>

<div id="2">
<div class="d">1B2</div>
<div class="mu">凹 : 埃 : 按埃挨 : 阿挨 : 安 : 昂啊 : 按埃唉 : 按埃挨 : 案隘 : 安按 : 埃 : 安 : 碍凹 : 皑 : 阿熬 : 凹皑 : 按埃 : 凹阿:</div>
<div class="mt">TRK : BODuN : KaNIN : BULMaY谋N : TaBGaDA : aDR谋LDI : KaNLaNDI : KaNIN : KODuP : TaBGaKA : YaNA : 陌iKD陌 : TeR陌 : aNA : TiMi : eRiN : KaN : BiRTiM:</div>
</div>

<div id="3">
<div class="d">1B2</div>
<div class="mu">凹 : 埃 : 按埃挨 : 阿挨 : 安 : 昂啊 : 按埃唉 : 按埃挨 : 案隘 : 安按 : 埃 : 安 : 碍凹 : 皑 : 阿熬 : 凹皑 : 按埃 : 凹阿:</div>
<div class="mt">TRK : BODuN : KaNIN : BULMaY谋N : TaBGaDA : aDR谋LDI : KaNLaNDI : KaNIN : KODuP : TaBGaKA : YaNA : 陌iKD陌 : TeR陌 : aNA : TiMi : eRiN : KaN : BiRTiM:</div>
</div>

<div id="33">
<div class="d">1B2</div>
<div class="mu">凹 : 埃 : 按埃挨 : 阿挨 : 安 : 昂啊 : 按埃唉 : 按埃挨 : 案隘 : 安按 : 埃 : 安 : 碍凹 : 皑 : 阿熬 : 凹皑 : 按埃 : 凹阿:</div>
<div class="mt">TRK : BODuN : KaNIN : BULMaY谋N : TaBGaDA : aDR谋LDI : KaNLaNDI : KaNIN : KODuP : TaBGaKA : YaNA : 陌iKD陌 : TeR陌 : aNA : TiMi : eRiN : KaN : BiRTiM:</div>
</div>

<div id="36">
<div class="d">1B2</div>
<div class="mu">凹 : 埃 : 按埃挨 : 阿挨 : 安 : 昂啊 : 按埃唉 : 按埃挨 : 案隘 : 安按 : 埃 : 安 : 碍凹 : 皑 : 阿熬 : 凹皑 : 按埃 : 凹阿:</div>
<div class="mt">TRK : BODuN : KaNIN : BULMaY谋N : TaBGaDA : aDR谋LDI : KaNLaNDI : KaNIN : KODuP : TaBGaKA : YaNA : 陌iKD陌 : TeR陌 : aNA : TiMi : eRiN : KaN : BiRTiM:</div>
</div>

<div id="38">
<div class="d">1B2</div>
<div class="mu">凹 : 埃 : 按埃挨 : 阿挨 : 安 : 昂啊 : 按埃唉 : 按埃挨 : 案隘 : 安按 : 埃 : 安 : 碍凹 : 皑 : 阿熬 : 凹皑 : 按埃 : 凹阿:</div>
<div class="mt">TRK : BODuN : KaNIN : BULMaY谋N : TaBGaDA : aDR谋LDI : KaNLaNDI : KaNIN : KODuP : TaBGaKA : YaNA : 陌iKD陌 : TeR陌 : aNA : TiMi : eRiN : KaN : BiRTiM:</div>
</div>

<script>
document.addEventListener('DOMContentLoaded', (event) => {
    let currentlyHighlightedContainerId = null; // Global tracker for highlighted container ID
    let currentlyHighlightedIndex = null; // Global tracker for highlighted index

    // Function to split text into words and wrap in spans for ALL containers
    function textToSpans() {
        var containers = document.querySelectorAll('[id]'); // Select all elements with an ID (assuming containers)
        containers.forEach((container) => {
            var elements = container.querySelectorAll('.mu,.mt');
            elements.forEach((element) => {
                var text = element.textContent.replace(/ :/g, '露').split(' ');
                var html = '';
                text.forEach((word, index) => {
                    html += `<span class="word" data-index="${index}">${word.replace('露', '')}</span> `;
                });
                element.innerHTML = html.trim();
            });
        });
    }

    // Prepare text for ALL containers
    textToSpans();

    // Highlight functionality scoped to container, with global container management
    document.addEventListener('mouseover', (e) => {
        if (e.target.classList.contains('word')) {
            var containerId = e.target.closest('div[id]').id;
            var newIndex = e.target.dataset.index;
            if (containerId!== currentlyHighlightedContainerId || newIndex!== currentlyHighlightedIndex) {
                highlightWord(containerId, newIndex);
                currentlyHighlightedContainerId = containerId;
                currentlyHighlightedIndex = newIndex;
            }
        }
    }, false);

    document.addEventListener('click', (e) => {
        if (e.target.classList.contains('word')) {
            var containerId = e.target.closest('div[id]').id;
            var newIndex = e.target.dataset.index;
            if (containerId!== currentlyHighlightedContainerId || newIndex!== currentlyHighlightedIndex) {
                highlightWord(containerId, newIndex);
                currentlyHighlightedContainerId = containerId;
                currentlyHighlightedIndex = newIndex;
            }
        } else {
            // Optional: Remove highlight on document click (for click event)
            removeHighlight();
            currentlyHighlightedContainerId = null;
            currentlyHighlightedIndex = null;
        }
    }, false);

    // Function to highlight word by index within a specific container, removing highlights from other containers
    function highlightWord(containerId, index) {
        removeHighlight(); // Remove any existing highlights across all containers
        var container = document.getElementById(containerId);
        var words = container.querySelectorAll('.word');
        words.forEach((word) => {
            if (word.dataset.index === index) {
                word.classList.add('highlight');
            }
        });
    }

    // Function to remove all highlights across all containers
    function removeHighlight() {
        var allHighlightedWords = document.querySelectorAll('.highlight');
        allHighlightedWords.forEach((word) => {
            word.classList.remove('highlight');
        });
    }
});
</script>

</body>
</html>
